<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="352px" preserveAspectRatio="none" style="width:758px;height:352px;background:#FFFFFF;" version="1.1" viewBox="0 0 758 352" width="758px" zoomAndPan="magnify"><defs/><g><rect fill="none" height="26.2969" id="_title" style="stroke:none;stroke-width:1.0;" width="235" x="262.75" y="10"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="225" x="267.75" y="27.9951">Buying from an Online Shop</text><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="111" x2="111" y1="118.5938" y2="345.5234"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="186" x2="186" y1="118.5938" y2="345.5234"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="269" x2="269" y1="118.5938" y2="345.5234"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="454" x2="454" y1="118.5938" y2="345.5234"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29" x="94" y="115.292">Bob</text><ellipse cx="111.5" cy="50.7969" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M111.5,58.7969 L111.5,85.7969 M98.5,66.7969 L124.5,66.7969 M111.5,85.7969 L98.5,100.7969 M111.5,85.7969 L124.5,100.7969 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="95" x="139" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81" x="146" y="107.292">Bob's Node</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="51" x="244" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="37" x="251" y="107.292">Shop</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="103" x="403" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89" x="410" y="107.292">Shop's Node</text><polygon fill="#181818" points="257.5,148.7266,267.5,152.7266,257.5,156.7266,261.5,152.7266" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="111.5" x2="263.5" y1="152.7266" y2="152.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="108" x="118.5" y="147.6606">buy(uid, item_id)</text><path d="M274,133.5938 L274,158.5938 L562,158.5938 L562,143.5938 L552,133.5938 L274,133.5938 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M552,133.5938 L552,143.5938 L562,143.5938 L552,133.5938 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="267" x="280" y="150.6606">Bob buys something from an online shop.</text><polygon fill="#181818" points="442.5,191.4258,452.5,195.4258,442.5,199.4258,446.5,195.4258" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="269.5" x2="448.5" y1="195.4258" y2="195.4258"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161" x="276.5" y="190.3599">create_invoice(uid, price)</text><path d="M5,168.7266 L5,208.7266 L265,208.7266 L265,178.7266 L255,168.7266 L5,168.7266 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M255,168.7266 L255,178.7266 L265,178.7266 L255,168.7266 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="235" x="11" y="185.7935">The shop send the details necessary</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="214" x="11" y="200.9263">to create the invoice to the node.</text><line style="stroke:#181818;stroke-width:1.0;" x1="454.5" x2="496.5" y1="235.125" y2="235.125"/><line style="stroke:#181818;stroke-width:1.0;" x1="496.5" x2="496.5" y1="235.125" y2="248.125"/><line style="stroke:#181818;stroke-width:1.0;" x1="455.5" x2="496.5" y1="248.125" y2="248.125"/><polygon fill="#181818" points="465.5,244.125,455.5,248.125,465.5,252.125,461.5,248.125" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="461.5" y="230.0591">invoice(uid, price)</text><polygon fill="#181818" points="197.5,283.8242,187.5,287.8242,197.5,291.8242,193.5,287.8242" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="191.5" x2="453.5" y1="287.8242" y2="287.8242"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="138" x="203.5" y="282.7583">send_invoice(invoice)</text><path d="M459,261.125 L459,301.125 L751,301.125 L751,271.125 L741,261.125 L459,261.125 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M741,261.125 L741,271.125 L751,271.125 L741,261.125 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="250" x="465" y="278.1919">The shop sends an invoice to the Bob's</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="271" x="465" y="293.3247">node in order to complete the transaction.</text><polygon fill="#181818" points="442.5,323.5234,452.5,327.5234,442.5,331.5234,446.5,327.5234" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="186.5" x2="448.5" y1="327.5234" y2="327.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="79" x="193.5" y="322.4575">pay(invoice)</text><!--MD5=[b6ee8346d6876133ba347eae7e5b9ccd]
@startuml
title Buying from an Online Shop
hide footbox

actor Bob as B
participant "Bob's Node" as BN
participant Shop as S
participant "Shop's Node" as SN

B -> S: buy(uid, item_id)
note right
  Bob buys something from an online shop.
end note
S -> SN: create_invoice(uid, price)
note left
  The shop send the details necessary 
  to create the invoice to the node.
end note
SN -> SN: invoice(uid, price)
BN <- - SN: send_invoice(invoice)
note right
  The shop sends an invoice to the Bob's
  node in order to complete the transaction.
end note
BN -> SN: pay(invoice)
@enduml

PlantUML version 1.2022.13beta2(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>